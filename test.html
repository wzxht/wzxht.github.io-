<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单直流电路演示</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f5f5f5;
            padding: 20px;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        .description {
            color: #666;
            margin-bottom: 20px;
            text-align: center;
        }
        #circuitCanvas {
            background-color: white;
            border: 1px solid #ddd;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .instructions {
            background-color: #fffde7;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffd600;
            max-width: 500px;
        }
    </style>
</head>
<body>
    <h1>简单直流电路</h1>
    <p class="description">点击开关可以控制电路的通断，观察LED的变化。</p>
    
    <canvas id="circuitCanvas" width="500" height="300"></canvas>
    
    <div class="instructions">
        <p><strong>使用说明：</strong>直接点击画面中的开关（红色部分）来切换电路状态。</p>
    </div>

    <script>
        // 获取Canvas和上下文
        const canvas = document.getElementById('circuitCanvas');
        const ctx = canvas.getContext('2d');
        
        // 电路状态
        let isCircuitClosed = false;
        
        // 绘制电路图
        function drawCircuit() {
            // 清除画布
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 设置绘图样式
            ctx.lineWidth = 2;
            ctx.strokeStyle = '#000';
            
            // 1. 绘制电源（电池）
            ctx.beginPath();
            // 电池正极
            ctx.rect(50, 120, 20, 10);
            // 电池主体
            ctx.rect(50, 130, 20, 40);
            // 电池负极
            ctx.rect(50, 170, 20, 10);
            ctx.stroke();
            
            // 添加电池标签
            ctx.font = "14px Arial";
            ctx.fillStyle = "#000";
            ctx.fillText("电源", 25, 155);
            ctx.fillText("+", 70, 128);
            ctx.fillText("-", 70, 178);
            
            // 2. 绘制导线：从电池正极到开关
            ctx.beginPath();
            ctx.moveTo(70, 120);
            ctx.lineTo(150, 120);
            ctx.stroke();
            
            // 3. 绘制开关
            ctx.beginPath();
            // 开关底座
            ctx.rect(150, 110, 30, 20);
            ctx.stroke();
            
            // 开关手柄 - 根据电路状态改变位置
            ctx.beginPath();
            if (isCircuitClosed) {
                ctx.moveTo(165, 110);
                ctx.lineTo(165, 100);
            } else {
                ctx.moveTo(165, 110);
                ctx.lineTo(175, 100);
            }
            ctx.stroke();
            
            // 添加开关标签
            ctx.fillText("开关", 145, 95);
            
            // 4. 绘制导线：从开关到电阻
            ctx.beginPath();
            if (isCircuitClosed) {
                ctx.moveTo(165, 110);
                ctx.lineTo(165, 80);
                ctx.lineTo(250, 80);
            } else {
                ctx.moveTo(175, 100);
                ctx.lineTo(250, 100);
            }
            ctx.stroke();
            
            // 5. 绘制电阻
            ctx.beginPath();
            // 电阻主体
            ctx.rect(250, 70, 60, 20);
            // 电阻引脚
            ctx.moveTo(250, 80);
            ctx.lineTo(240, 80);
            ctx.moveTo(310, 80);
            ctx.lineTo(320, 80);
            ctx.stroke();
            
            // 添加电阻标签
            ctx.fillText("电阻", 255, 65);
            
            // 6. 绘制导线：从电阻到LED
            ctx.beginPath();
            ctx.moveTo(320, 80);
            ctx.lineTo(380, 80);
            ctx.stroke();
            
            // 7. 绘制LED
            ctx.beginPath();
            // LED主体（三角形）
            ctx.moveTo(400, 80);
            ctx.lineTo(390, 70);
            ctx.lineTo(390, 90);
            ctx.closePath();
            ctx.stroke();
            
            // LED引脚
            ctx.moveTo(390, 80);
            ctx.lineTo(380, 80);
            ctx.moveTo(400, 80);
            ctx.lineTo(410, 80);
            ctx.stroke();
            
            // 根据电路状态改变LED颜色
            if (isCircuitClosed) {
                ctx.fillStyle = "#ff0000"; // 电路连通时LED为红色
                ctx.fill();
            }
            
            // 添加LED标签
            ctx.fillStyle = "#000";
            ctx.fillText("LED", 415, 85);
            
            // 8. 绘制导线：从LED回到电池负极
            ctx.beginPath();
            ctx.moveTo(410, 80);
            ctx.lineTo(450, 80);
            ctx.lineTo(450, 170);
            ctx.lineTo(70, 170);
            ctx.stroke();
        }
        
        // 初始绘制
        drawCircuit();
        
        // 添加点击事件监听器，用于切换开关状态
        canvas.addEventListener('click', function(event) {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            
            // 检查点击是否在开关区域内
            if (x >= 150 && x <= 180 && y >= 95 && y <= 130) {
                isCircuitClosed = !isCircuitClosed;
                drawCircuit();
            }
        });
    </script>
</body>
</html>